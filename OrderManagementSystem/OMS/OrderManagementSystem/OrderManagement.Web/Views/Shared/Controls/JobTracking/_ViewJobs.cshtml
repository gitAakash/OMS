@model OrderManagement.Web.Models.JobTrackingModel

@{


    var currentuser = OrderManagement.Web.Helper.Utilitties.UserManager.Current();
    
}
<!DOCTYPE html>
<html>

<head>
@*    <script src="@Url.Content("~/Scripts/kendo/2014.2.716/kendo.web.min.js")" type="text/javascript"></script>
<link href="@Url.Content("~/Content/kendo/2014.2.716/kendo.common.min.css")"  rel="stylesheet" type="text/css" />
<link type="text/css" href="@Url.Content("~/Content/kendo/2014.2.716/kendo.flat.min.css")" rel="stylesheet" />*@
    @* <script type="text/javascript" src="@Url.Content("~/Content/Track/icheck.min.js")"></script>
       <script type="text/javascript" src="@Url.Content("~/Content/Track/summernote.min.js")"></script>
    <link href="~/Content/Track/summernote-bs3.css" rel="stylesheet" />
    <link href="~/Content/Track/summernote.css" rel="stylesheet" />
    <link href="~/Content/Track/custom.css" rel="stylesheet" />*@
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <style>
        .info {
            float: left;
            width: 100%;
        }

        .status {
            width: 16.2%;
            text-align: right;
        }

        .Contract {
            font-size: 20px;
        }

        .info > .col-sm-8 {
            padding-left: 0;
            padding-right: 0;
        }

        .label-floor {
            background-color: #e0cd7b;
            border-color: #e0cd7b;
            color: #ffffff;
        }

        .label-floor:hover, .label-floor:focus, .label-floor:active, .label-floor.active, .open .dropdown-toggle.label-floor {
            background-color: #e0d23d;
            border-color: #e0d23d;
            color: #ffffff;
        }

        .info > .col-sm-8 {
            padding-left: 15px;
            padding-right: 15px;
        }
    </style>
    <script>

    
    </script>
</head>

<body>

    <div class="row wrapper border-bottom white-bg page-heading">
        <div class="col-lg-10">
            <h2>Job List</h2>
            <ol class="breadcrumb">
                <li>
                    <a href="#" onclick="javascript:JobList();">Home</a>
                </li>
                <li class="active">
                    <strong>Job List</strong>
                </li>

            </ol>
            <!--<ol class="breadcrumb">
                    <li>
                        <a href="index.html">Home</a>
                    </li>
                    <li>
                        <a>Extra Pages</a>
                    </li>
                    <li class="active">
                        <strong>Profile</strong>
                    </li>
                </ol>-->
        </div>
        <div class="col-lg-2">
        </div>
    </div>
    @if (Model != null)
    {
        <div class="wrapper wrapper-content">
            <div class="row animated fadeInRight">

                <div class="col-md-12">
                    <div class="ibox float-e-margins">

                        <div class="ibox-content">

                            <div>
                                <div class="Contract">
                                  @*     @Model.CompanyName*@
                                    @Model.JobTitle 
                                    @*<div class="pull-right">
                                        <button type="submit" class="btn btn-xs btn-white">Edit project</button>
                                    </div>*@
                                </div>
                                <div class="feed-element">
                                    <div class="col-lg-12 m-b-md">
                                        <label class="col-sm-2 control-label status">Status:</label>
                                        <div class="col-sm-1 pull-left">
                                            <span class="label label-primary">@Model.Active</span>
                                        </div>
                                    </div>

                                    <div class="col-lg-6 ">
                                        <div class="info">
                                            <label class="col-sm-4 control-label text-right">Created By:</label>
                                            <div class="col-sm-8 pull-left">
                                                @Model.CreatedByName
                                            </div>
                                        </div>
                                        @*  <div class="info">
                                            <label class="col-sm-4 control-label text-right">Services:</label>
                                            <div class="col-sm-8 pull-left">
                                                162
                                            </div>
                                        </div>*@
                                        <div class="info">
                                            <label class="col-sm-4 control-label text-right">Client:</label>
                                            <div class="col-sm-8 pull-left text-navy">
                                                @Model.CompanyName @*Zender Company*@
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-lg-6 ">
                                        <div class="info">
                                            <label class="col-sm-4 control-label text-right">Last Updated</label>
                                            <div class="col-sm-8 pull-left">
                                                @Model.Updated
                                            </div>
                                        </div>
                                        <div class="info">
                                            <label class="col-sm-4 control-label text-right">Created:</label>
                                            <div class="col-sm-8 pull-left">
                                                @Model.Created
                                            </div>
                                        </div>
                                        <div class="info">
                                            <label class="col-sm-4 control-label text-right">Product Groups:</label>
                                            <div class="col-sm-8 pull-left">

                                                @* <a href="" class="a">
                                                    <span class="label label-warning">Photography</span>
                                                </a>
                                                <a href="">
                                                    <span class="label label-info">Copywriting</span>
                                                </a>
                                                <a href="">
                                                    <span class="label label-success">Video Services</span>
                                                </a>
                                                <a href="">
                                                    <span class="label label-floor">Floor Plan</span>
                                                </a>*@

                                                @if (Model != null && Model.ProductGroup.Count > 0)
                                                {

                                                    foreach (var prodgrp in Model.ProductGroup)
                                                    {
                                                    <span class="label@(" " + prodgrp.CssClass)">@prodgrp.ProductGroupName</span>      
                                                    }

                                                }

                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-lg-12 m-t-md  m-b-md">
                                        <label class="col-sm-2 control-label status">Completed:</label>
                                        <div class="col-sm-6">
                                            <div class="progress progress-striped m-b-none">
                                                <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width:@Model.Completion%">
                                                    <span class="sr-only">@Model.Completion (success)</span>
                                                </div>

                                            </div>

                                            @if (Model.Completion=="0")
                                            {
                                                 <small class="text-muted">Job completed in @Model.Completion</small>
                                            }
                                            else
                                            {
                                                 <small class="text-muted">Job completed in @Model.Completion %</small>
                                            }
                                           
                                        </div>
                                    </div>
                                </div>

                                <!-- <div class="row">
                                         <div class="col-lg-12">
                                             <label class="">Status:</label>
										
                                         </div>
                                     </div> -->

                                <div class="m-b-md">
                                    <a onclick=" ShowEvents('@Model.JobId') " class="btn btn-w-m btn-primary" href="javascript:void(0);">Events</a>

                                    @if (currentuser.UserType == 4)
                                    {
                                    <a onclick=" ShowGallery('@Model.JobId') " class="btn btn-w-m btn-success" href="javascript:void(0);">Gallery</a>
                                    <a onclick=" ShowCopyWriting('@Model.JobId') " class="btn btn-w-m btn-warning" href="javascript:void(0);">Copywriting</a>
                                    }
                                </div>

                                <div id="divContent"></div>

                            </div>
                        </div>

                    </div>

                </div>

            </div>

        </div>
    }



    @Html.Hidden("GlobleJobId")

    <!-- Mainly scripts -->

</body>

</html>




<script language="javascript" type="text/javascript">

    $(document).ready(function () {
        if ('@Model.JobId' != 0 && '@Model.JobId' != null) {
            ShowEvents('@Model.JobId');
        }

    });
    function JobList() {
        $.get('@Url.Action("Index", "JobTracking")', function (data) {
            if (data != null) {

                $('#divPageBody').html("");
                $('#divPageBody').html(data);
            }
        });
    }


    function ShowGallery(id) {

        $("#GlobleJobId").val("");
        $("#GlobleJobId").val(id);

        $.get('@Url.Action("ViewGallery", "JobTracking")', { jobid: id }, function (data) {
            if (data != null) {
                $('#divContent').html("");
                $('#divContent').html(data);

            }
        });
    }


    function ShowEvents(id) {

        $("#GlobleJobId").val("");
        $("#GlobleJobId").val(id);

        $.get('@Url.Action("ViewEvents", "JobTracking")', { jobid: id }, function (data) {
            if (data != null) {
                $('#divContent').html("");
                $('#divContent').html(data);

            }
        });
    }


    function ShowCopyWriting(id) {

        $("#GlobleJobId").val("");
        $("#GlobleJobId").val(id);
        $.get('@Url.Action("CopyWritingListing", "JobTracking")', { jobid: id }, function (data) {
            if (data != null) {
                $('#divContent').html("");
                $('#divContent').html(data);

            }
        });
    }

</script>

